<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let checkvalidata = false;
    let emailCustomer;
    let birthdayCustomer;
    let IdCard;
    let discount;
    let rentDay;
    let numberOfAccompanying;
    let nameCustomer = prompt("enter name customer: ");
    let nameStandardized = "";

    nameCustomer = nameCustomer.trim().toLocaleLowerCase();
    for (let i = 0; i < nameCustomer.length; i++){
        if (nameCustomer.charAt(i) === " " && nameCustomer.charAt(i+1) === " ") {
            continue;
        }
        if (i === 0 || nameCustomer.charAt(i-1) === " "){
            nameStandardized += nameCustomer.charAt(i).toLocaleUpperCase();
            continue;
        }
        nameStandardized += nameCustomer.charAt(i);
    }
    nameCustomer = nameStandardized;

    do {
        checkvalidata = true;
        emailCustomer = prompt("enter email customer: ");
        let countDoc = 0;
        let countAt = 0;
        for (let i = 0 ; i < emailCustomer.length; i++){
            if (emailCustomer.charAt(i) === "@"){
                countAt++;
            }
            if (emailCustomer.charAt(i) === "."){
                countDoc++;
            }
        }
        if (countAt !== 1 || countDoc < 1){
            checkvalidata = false;
            alert("email is invalid !!! please try again!");
        }
    }while (!checkvalidata);

    do {
        checkvalidata = false;
        birthdayCustomer = prompt("birthday Customer (dd/MM/yyyy): ");
        if (birthdayCustomer.charAt(2) !== '/' || birthdayCustomer.charAt(5) !=='/'){
            alert("birthday is invalid !!! please try again!");
            continue;
        }
        let day = birthdayCustomer.substring(0,2);
        let month = birthdayCustomer.substring(3,5);
        let year = birthdayCustomer.substring(6,10);
        if (!isNaN(day) && !isNaN(month) && !isNaN(year)){
            day = Number.parseFloat(day);
            month = Number.parseFloat(month);
            year = Number.parseFloat(year);
            if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)){
                if (day > 0 && day < 32 && month < 13 && month >0 && year >= 1960 && year <= 2019){
                    checkvalidata = true;
                }
            }
        }
        if (!checkvalidata){
            alert("birthday is invalid !!! please try again!");
        }
    }while (!checkvalidata);

    do {
        checkvalidata = false;
        IdCard = prompt("enter ID card customer: ");
        if (isNaN(IdCard)){
            alert("id card is invalid !!! please try again!");
            continue;
        }
        IdCard = Number.parseFloat(IdCard);
        if(!Number.isInteger(IdCard)){
            alert("id card is invalid !!! please try again!");
            continue;
        }
        if (IdCard >= 100000000 && IdCard<= 999999999){
            checkvalidata = true;
        }else {
            alert("id card is invalid !!! please try again!");
        }

    }while (!checkvalidata);

    do {
        checkvalidata = false;
        discount = prompt("enter discount: ","");
        if (!isNaN(discount)){
            discount = Number.parseFloat(discount);
            if (discount >= 0){
                checkvalidata = true;
            }
        }
        if (!checkvalidata){
            alert("discount is invalid !!! please try again!");
        }
    }while (!checkvalidata);

    do {
        checkvalidata = false;
        numberOfAccompanying = prompt("enter number of accompanying: ");
        if (!isNaN(numberOfAccompanying)){
            numberOfAccompanying = Number.parseFloat(numberOfAccompanying);
            if (numberOfAccompanying >= 0 && Number.parseFloat(numberOfAccompanying)){
                checkvalidata = true;
            }
        }
        if (!checkvalidata){
            alert("numberOfAccompanying is invalid !!! please try again!");
        }
    }while (!checkvalidata);
    // let rentDay = prompt("enter rent day: ");
    do {
        checkvalidata = false;
        rentDay = prompt("enter rent day: ");
        if (!isNaN(rentDay)){
            rentDay = Number.parseFloat(rentDay);
            if (rentDay > 0 && Number.parseFloat(rentDay)){
                checkvalidata = true;
            }
        }
        if (!checkvalidata){
            alert("rentDay is invalid !!! please try again!");
        }
    }while (!checkvalidata);


    // let addressCustomer = prompt("enter address Customer: ");
    // let typeCustomer = prompt("enter type Customer: ","");
    // let typeRom = prompt("enter type Rom: ");
    // let typeService = prompt("enter type service: ");
    // let totalPays = 500 * Number.parseInt(rentDay) * (1 - Number.parseFloat(discount))/100;
    alert("Information of  customer: \n"+
        "name: " + nameCustomer +
        "\nid card: " + IdCard +
        "\nbirthday: "+ birthdayCustomer +
        // "\naddress: " + addressCustomer +
        // "\ntype customer: " + typeCustomer +
        "\ndiscount: "+ discount +
        "\nnumberOfAccompanying: "+numberOfAccompanying +
        // "\ntype rom: " + typeRom +
        "\nrent day: " + rentDay +
        // "\ntype service: "+typeService +
        "\nemailCustomer: " + emailCustomer
        // "\ntotal pays: " + totalPays
    )
</script>
</body>
</html>